{"ast":null,"code":"import _regeneratorRuntime from\"/home/mmattox/go/src/github.com/mattmattox/opsdata/ui/opsdata-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/mmattox/go/src/github.com/mattmattox/opsdata/ui/opsdata-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/mmattox/go/src/github.com/mattmattox/opsdata/ui/opsdata-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{Redirect}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Register=function Register(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),password=_useState6[0],setPassword=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),redirect=_useState8[0],setRedirect=_useState8[1];var submit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.next=3;return fetch('http://localhost:8000/api/register',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({name:name,email:email,password:password})});case 3:setRedirect(true);case 4:case\"end\":return _context.stop();}}},_callee);}));return function submit(_x){return _ref.apply(this,arguments);};}();if(redirect){return/*#__PURE__*/_jsx(Redirect,{to:\"/login\"});}return/*#__PURE__*/_jsxs(\"form\",{onSubmit:submit,children:[/*#__PURE__*/_jsx(\"h1\",{className:\"h3 mb-3 fw-normal\",children:\"Please register\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",placeholder:\"Name\",required:true,onChange:function onChange(e){return setName(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control\",placeholder:\"Email address\",required:true,onChange:function onChange(e){return setEmail(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",placeholder:\"Password\",required:true,onChange:function onChange(e){return setPassword(e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{className:\"w-100 btn btn-lg btn-primary\",type:\"submit\",children:\"Submit\"})]});};export default Register;","map":{"version":3,"sources":["/home/mmattox/go/src/github.com/mattmattox/opsdata/ui/opsdata-ui/src/pages/Register.tsx"],"names":["React","useState","Redirect","Register","name","setName","email","setEmail","password","setPassword","redirect","setRedirect","submit","e","preventDefault","fetch","method","headers","body","JSON","stringify","target","value"],"mappings":"kiBAAA,MAAOA,CAAAA,KAAP,EAA+BC,QAA/B,KAA8C,OAA9C,CACA,OAAQC,QAAR,KAAuB,kBAAvB,C,wFAEA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAM,CACnB,cAAwBF,QAAQ,CAAC,EAAD,CAAhC,wCAAOG,IAAP,eAAaC,OAAb,eACA,eAA0BJ,QAAQ,CAAC,EAAD,CAAlC,yCAAOK,KAAP,eAAcC,QAAd,eACA,eAAgCN,QAAQ,CAAC,EAAD,CAAxC,yCAAOO,QAAP,eAAiBC,WAAjB,eACA,eAAgCR,QAAQ,CAAC,KAAD,CAAxC,yCAAOS,QAAP,eAAiBC,WAAjB,eAEA,GAAMC,CAAAA,MAAM,0FAAG,iBAAOC,CAAP,kHACXA,CAAC,CAACC,cAAF,GADW,sBAGLC,CAAAA,KAAK,CAAC,oCAAD,CAAuC,CAC9CC,MAAM,CAAE,MADsC,CAE9CC,OAAO,CAAE,CAAC,eAAgB,kBAAjB,CAFqC,CAG9CC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACjBhB,IAAI,CAAJA,IADiB,CAEjBE,KAAK,CAALA,KAFiB,CAGjBE,QAAQ,CAARA,QAHiB,CAAf,CAHwC,CAAvC,CAHA,QAaXG,WAAW,CAAC,IAAD,CAAX,CAbW,sDAAH,kBAANC,CAAAA,MAAM,4CAAZ,CAgBA,GAAIF,QAAJ,CAAc,CACV,mBAAO,KAAC,QAAD,EAAU,EAAE,CAAC,QAAb,EAAP,CACH,CAED,mBACI,cAAM,QAAQ,CAAEE,MAAhB,wBACI,WAAI,SAAS,CAAC,mBAAd,6BADJ,cAGI,cAAO,SAAS,CAAC,cAAjB,CAAgC,WAAW,CAAC,MAA5C,CAAmD,QAAQ,KAA3D,CACO,QAAQ,CAAE,kBAAAC,CAAC,QAAIR,CAAAA,OAAO,CAACQ,CAAC,CAACQ,MAAF,CAASC,KAAV,CAAX,EADlB,EAHJ,cAOI,cAAO,IAAI,CAAC,OAAZ,CAAoB,SAAS,CAAC,cAA9B,CAA6C,WAAW,CAAC,eAAzD,CAAyE,QAAQ,KAAjF,CACO,QAAQ,CAAE,kBAAAT,CAAC,QAAIN,CAAAA,QAAQ,CAACM,CAAC,CAACQ,MAAF,CAASC,KAAV,CAAZ,EADlB,EAPJ,cAWI,cAAO,IAAI,CAAC,UAAZ,CAAuB,SAAS,CAAC,cAAjC,CAAgD,WAAW,CAAC,UAA5D,CAAuE,QAAQ,KAA/E,CACO,QAAQ,CAAE,kBAAAT,CAAC,QAAIJ,CAAAA,WAAW,CAACI,CAAC,CAACQ,MAAF,CAASC,KAAV,CAAf,EADlB,EAXJ,cAeI,eAAQ,SAAS,CAAC,8BAAlB,CAAiD,IAAI,CAAC,QAAtD,oBAfJ,GADJ,CAmBH,CA7CD,CA+CA,cAAenB,CAAAA,QAAf","sourcesContent":["import React, {SyntheticEvent, useState} from 'react';\nimport {Redirect} from 'react-router-dom';\n\nconst Register = () => {\n    const [name, setName] = useState('');\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const [redirect, setRedirect] = useState(false);\n\n    const submit = async (e: SyntheticEvent) => {\n        e.preventDefault();\n\n        await fetch('http://localhost:8000/api/register', {\n            method: 'POST',\n            headers: {'Content-Type': 'application/json'},\n            body: JSON.stringify({\n                name,\n                email,\n                password\n            })\n        });\n\n        setRedirect(true);\n    }\n\n    if (redirect) {\n        return <Redirect to=\"/login\"/>;\n    }\n\n    return (\n        <form onSubmit={submit}>\n            <h1 className=\"h3 mb-3 fw-normal\">Please register</h1>\n\n            <input className=\"form-control\" placeholder=\"Name\" required\n                   onChange={e => setName(e.target.value)}\n            />\n\n            <input type=\"email\" className=\"form-control\" placeholder=\"Email address\" required\n                   onChange={e => setEmail(e.target.value)}\n            />\n\n            <input type=\"password\" className=\"form-control\" placeholder=\"Password\" required\n                   onChange={e => setPassword(e.target.value)}\n            />\n\n            <button className=\"w-100 btn btn-lg btn-primary\" type=\"submit\">Submit</button>\n        </form>\n    );\n};\n\nexport default Register;"]},"metadata":{},"sourceType":"module"}