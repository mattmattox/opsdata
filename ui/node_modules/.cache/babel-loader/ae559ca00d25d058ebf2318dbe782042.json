{"ast":null,"code":"import _regeneratorRuntime from\"/home/mmattox/go/src/github.com/mattmattox/opsdata/ui/opsdata-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/mmattox/go/src/github.com/mattmattox/opsdata/ui/opsdata-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import React from'react';import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Nav=function Nav(props){var logout=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch('http://localhost:8000/api/logout',{method:'POST',headers:{'Content-Type':'application/json'},credentials:'include'});case 2:props.setName('');case 3:case\"end\":return _context.stop();}}},_callee);}));return function logout(){return _ref.apply(this,arguments);};}();var menu;if(props.name===''){menu=/*#__PURE__*/_jsxs(\"ul\",{className:\"navbar-nav me-auto mb-2 mb-md-0\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"nav-item active\",children:/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"nav-link\",children:\"Login\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item active\",children:/*#__PURE__*/_jsx(Link,{to:\"/register\",className:\"nav-link\",children:\"Register\"})})]});}else{menu=/*#__PURE__*/_jsx(\"ul\",{className:\"navbar-nav me-auto mb-2 mb-md-0\",children:/*#__PURE__*/_jsx(\"li\",{className:\"nav-item active\",children:/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"nav-link\",onClick:logout,children:\"Logout\"})})});}return/*#__PURE__*/_jsx(\"nav\",{className:\"navbar navbar-expand-md navbar-dark bg-dark mb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"navbar-brand\",children:\"Home\"}),/*#__PURE__*/_jsx(\"div\",{children:menu})]})});};export default Nav;","map":{"version":3,"sources":["/home/mmattox/go/src/github.com/mattmattox/opsdata/ui/opsdata-ui/src/components/Nav.tsx"],"names":["React","Link","Nav","props","logout","fetch","method","headers","credentials","setName","menu","name"],"mappings":"2WAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,IAAR,KAAmB,kBAAnB,C,wFAEA,GAAMC,CAAAA,GAAG,CAAG,QAANA,CAAAA,GAAM,CAACC,KAAD,CAA8D,CACtE,GAAMC,CAAAA,MAAM,0FAAG,yJACLC,CAAAA,KAAK,CAAC,kCAAD,CAAqC,CAC5CC,MAAM,CAAE,MADoC,CAE5CC,OAAO,CAAE,CAAC,eAAgB,kBAAjB,CAFmC,CAG5CC,WAAW,CAAE,SAH+B,CAArC,CADA,QAOXL,KAAK,CAACM,OAAN,CAAc,EAAd,EAPW,sDAAH,kBAANL,CAAAA,MAAM,0CAAZ,CAUA,GAAIM,CAAAA,IAAJ,CAEA,GAAIP,KAAK,CAACQ,IAAN,GAAe,EAAnB,CAAuB,CACnBD,IAAI,cACA,YAAI,SAAS,CAAC,iCAAd,wBACI,WAAI,SAAS,CAAC,iBAAd,uBACI,KAAC,IAAD,EAAM,EAAE,CAAC,QAAT,CAAkB,SAAS,CAAC,UAA5B,mBADJ,EADJ,cAII,WAAI,SAAS,CAAC,iBAAd,uBACI,KAAC,IAAD,EAAM,EAAE,CAAC,WAAT,CAAqB,SAAS,CAAC,UAA/B,sBADJ,EAJJ,GADJ,CAUH,CAXD,IAWO,CACHA,IAAI,cACA,WAAI,SAAS,CAAC,iCAAd,uBACI,WAAI,SAAS,CAAC,iBAAd,uBACI,KAAC,IAAD,EAAM,EAAE,CAAC,QAAT,CAAkB,SAAS,CAAC,UAA5B,CAAuC,OAAO,CAAEN,MAAhD,oBADJ,EADJ,EADJ,CAOH,CAED,mBACI,YAAK,SAAS,CAAC,kDAAf,uBACI,aAAK,SAAS,CAAC,iBAAf,wBACI,KAAC,IAAD,EAAM,EAAE,CAAC,GAAT,CAAa,SAAS,CAAC,cAAvB,kBADJ,cAGI,qBACKM,IADL,EAHJ,GADJ,EADJ,CAWH,CA7CD,CA+CA,cAAeR,CAAAA,GAAf","sourcesContent":["import React from 'react';\nimport {Link} from \"react-router-dom\";\n\nconst Nav = (props: { name: string, setName: (name: string) => void }) => {\n    const logout = async () => {\n        await fetch('http://localhost:8000/api/logout', {\n            method: 'POST',\n            headers: {'Content-Type': 'application/json'},\n            credentials: 'include',\n        });\n\n        props.setName('');\n    }\n\n    let menu;\n\n    if (props.name === '') {\n        menu = (\n            <ul className=\"navbar-nav me-auto mb-2 mb-md-0\">\n                <li className=\"nav-item active\">\n                    <Link to=\"/login\" className=\"nav-link\">Login</Link>\n                </li>\n                <li className=\"nav-item active\">\n                    <Link to=\"/register\" className=\"nav-link\">Register</Link>\n                </li>\n            </ul>\n        )\n    } else {\n        menu = (\n            <ul className=\"navbar-nav me-auto mb-2 mb-md-0\">\n                <li className=\"nav-item active\">\n                    <Link to=\"/login\" className=\"nav-link\" onClick={logout}>Logout</Link>\n                </li>\n            </ul>\n        )\n    }\n\n    return (\n        <nav className=\"navbar navbar-expand-md navbar-dark bg-dark mb-4\">\n            <div className=\"container-fluid\">\n                <Link to=\"/\" className=\"navbar-brand\">Home</Link>\n\n                <div>\n                    {menu}\n                </div>\n            </div>\n        </nav>\n    );\n};\n\nexport default Nav;"]},"metadata":{},"sourceType":"module"}