{"code":"(this[\"webpackJsonpopsdata-ui\"]=this[\"webpackJsonpopsdata-ui\"]||[]).push([[0],{24:function(e,t,n){},26:function(e,t,n){},33:function(e,t,n){\"use strict\";n.r(t);var a=n(0),c=n.n(a),r=n(18),s=n.n(r),i=(n(24),n(6)),o=n.n(i),l=n(10),u=n(7),j=(n(26),n(2)),b=n(1),d=function(e){var t,n=Object(a.useState)(\"\"),c=Object(u.a)(n,2),r=c[0],s=c[1],i=Object(a.useState)(\"\"),d=Object(u.a)(i,2),m=d[0],p=d[1],h=Object(a.useState)(!1),O=Object(u.a)(h,2),f=O[0],x=O[1],v=Object(a.useState)(!1),g=Object(u.a)(v,2),N=g[0],y=g[1],w=function(){var t=Object(l.a)(o.a.mark((function t(n){var a,c,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=function(){window.location.reload(!1)},n.preventDefault(),t.next=4,fetch(\"http://localhost:8000/api/login\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},credentials:\"include\",body:JSON.stringify({email:r,password:m})});case 4:return a=t.sent,t.next=7,a.json();case 7:s=t.sent,200===a.status?(x(!0),e.setName(s.name),c()):(y(!0),x(!1));case 9:case\"end\":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return t=N?Object(b.jsx)(\"p\",{className:\"alert alert-danger\",style:{textAlign:\"center\"},children:\"Login failed, please try again\"}):Object(b.jsx)(\"p\",{className:\"alert alert-primary\",style:{textAlign:\"center\"},children:\"Please sign in\"}),f?Object(b.jsx)(j.a,{to:\"/\"}):Object(b.jsxs)(\"form\",{onSubmit:w,children:[t,Object(b.jsx)(\"input\",{type:\"email\",className:\"form-control\",placeholder:\"Email address\",required:!0,onChange:function(e){return s(e.target.value)}}),Object(b.jsx)(\"input\",{type:\"password\",className:\"form-control\",placeholder:\"Password\",required:!0,onChange:function(e){return p(e.target.value)}}),Object(b.jsx)(\"button\",{className:\"w-100 btn btn-lg btn-primary\",type:\"submit\",children:\"Sign in\"})]})},m=n(9),p=function(e){var t,n=function(){var t=Object(l.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(\"http://localhost:8000/api/logout\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},credentials:\"include\"});case 2:e.setName(\"\");case 3:case\"end\":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return t=\"\"===e.name?Object(b.jsxs)(\"ul\",{className:\"navbar-nav me-auto mb-2 mb-md-0\",children:[Object(b.jsx)(\"li\",{className:\"nav-item active\",children:Object(b.jsx)(m.b,{to:\"/login\",className:\"nav-link\",children:\"Login\"})}),Object(b.jsx)(\"li\",{className:\"nav-item active\",children:Object(b.jsx)(m.b,{to:\"/register\",className:\"nav-link\",children:\"Register\"})})]}):Object(b.jsx)(\"ul\",{className:\"navbar-nav me-auto mb-2 mb-md-0\",children:Object(b.jsx)(\"li\",{className:\"nav-item active\",children:Object(b.jsx)(m.b,{to:\"/login\",className:\"nav-link\",onClick:n,children:\"Logout\"})})}),Object(b.jsx)(\"nav\",{className:\"navbar navbar-expand-md navbar-dark bg-dark mb-4\",children:Object(b.jsxs)(\"div\",{className:\"container-fluid\",children:[Object(b.jsx)(m.b,{to:\"/\",className:\"navbar-brand\",children:\"Home\"}),Object(b.jsx)(\"div\",{children:t})]})})},h=function(e){return Object(b.jsx)(\"div\",{children:e.name?\"Hi \"+e.name:\"You are not logged in\"})},O=function(){var e=Object(a.useState)(\"\"),t=Object(u.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(\"\"),s=Object(u.a)(r,2),i=s[0],d=s[1],m=Object(a.useState)(\"\"),p=Object(u.a)(m,2),h=p[0],O=p[1],f=Object(a.useState)(!1),x=Object(u.a)(f,2),v=x[0],g=x[1],N=function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fetch(\"http://localhost:8000/api/register\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({name:n,email:i,password:h})});case 3:g(!0);case 4:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return v?Object(b.jsx)(j.a,{to:\"/login\"}):Object(b.jsxs)(\"form\",{onSubmit:N,children:[Object(b.jsx)(\"h1\",{className:\"h3 mb-3 fw-normal\",children:\"Please register\"}),Object(b.jsx)(\"input\",{className:\"form-control\",placeholder:\"Name\",required:!0,onChange:function(e){return c(e.target.value)}}),Object(b.jsx)(\"input\",{type:\"email\",className:\"form-control\",placeholder:\"Email address\",required:!0,onChange:function(e){return d(e.target.value)}}),Object(b.jsx)(\"input\",{type:\"password\",className:\"form-control\",placeholder:\"Password\",required:!0,onChange:function(e){return O(e.target.value)}}),Object(b.jsx)(\"button\",{className:\"w-100 btn btn-lg btn-primary\",type:\"submit\",children:\"Submit\"})]})};var f=function(){var e=Object(a.useState)(\"\"),t=Object(u.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(\"http://localhost:8000/api/user\",{headers:{\"Content-Type\":\"application/json\"},credentials:\"include\"});case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,c(n.name);case 7:case\"end\":return e.stop()}}),e)})))()})),Object(b.jsx)(\"div\",{className:\"App\",children:Object(b.jsxs)(m.a,{children:[Object(b.jsx)(p,{name:n,setName:c}),Object(b.jsxs)(\"main\",{className:\"form-signin\",children:[Object(b.jsx)(j.b,{path:\"/\",exact:!0,component:function(){return Object(b.jsx)(h,{name:n})}}),Object(b.jsx)(j.b,{path:\"/login\",component:function(){return Object(b.jsx)(d,{setName:c})}}),Object(b.jsx)(j.b,{path:\"/register\",component:O})]})]})})},x=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,34)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))};s.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(f,{})}),document.getElementById(\"root\")),x()}},[[33,1,2]]]);","name":"static/js/main.031d080e.chunk.js","map":{"version":3,"sources":["static/js/main.031d080e.chunk.js"],"names":["this","push","24","module","exports","__webpack_require__","26","33","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","regenerator","regenerator_default","asyncToGenerator","slicedToArray","react_router","jsx_runtime","pages_Login","props","message","_useState","Object","_useState2","email","setEmail","_useState3","_useState4","password","setPassword","_useState5","_useState6","redirect","setRedirect","_useState7","_useState8","failed","setFailed","submit","_ref","a","mark","_callee","e","response","refreshPage","content","wrap","_context","prev","next","window","location","reload","preventDefault","fetch","method","headers","Content-Type","credentials","body","JSON","stringify","sent","json","status","setName","name","stop","_x","apply","arguments","className","style","textAlign","children","to","onSubmit","type","placeholder","required","onChange","target","value","react_router_dom","components_Nav","menu","logout","onClick","pages_Home","pages_Register","src_App","path","exact","component","src_reportWebVitals","onPerfEntry","Function","then","bind","getCLS","getFID","getFCP","getLCP","getTTFB","render","StrictMode","document","getElementById"],"mappings":"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"},"input":"(this[\"webpackJsonpopsdata-ui\"] = this[\"webpackJsonpopsdata-ui\"] || []).push([[0],{\n\n/***/ 24:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 26:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 33:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(18);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(24);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(6);\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(10);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 5 modules\nvar slicedToArray = __webpack_require__(7);\n\n// EXTERNAL MODULE: ./src/App.css\nvar App = __webpack_require__(26);\n\n// EXTERNAL MODULE: ./node_modules/react-router/esm/react-router.js\nvar react_router = __webpack_require__(2);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(1);\n\n// CONCATENATED MODULE: ./src/pages/Login.tsx\nvar Login_Login=function Login(props){var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=Object(react[\"useState\"])(''),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=Object(react[\"useState\"])(false),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),redirect=_useState6[0],setRedirect=_useState6[1];var _useState7=Object(react[\"useState\"])(false),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),failed=_useState8[0],setFailed=_useState8[1];var submit=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(e){var response,refreshPage,content;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:refreshPage=function _refreshPage(){window.location.reload(false);};e.preventDefault();_context.next=4;return fetch('http://localhost:8000/api/login',{method:'POST',headers:{'Content-Type':'application/json'},credentials:'include',body:JSON.stringify({email:email,password:password})});case 4:response=_context.sent;_context.next=7;return response.json();case 7:content=_context.sent;if(response.status===200){setRedirect(true);props.setName(content.name);refreshPage();}else{setFailed(true);setRedirect(false);}case 9:case\"end\":return _context.stop();}}},_callee);}));return function submit(_x){return _ref.apply(this,arguments);};}();var message;if(failed){message=/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{className:\"alert alert-danger\",style:{textAlign:\"center\"},children:\"Login failed, please try again\"});}else{message=/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{className:\"alert alert-primary\",style:{textAlign:\"center\"},children:\"Please sign in\"});}if(redirect){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Redirect */],{to:\"/\"});}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:submit,children:[message,/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"email\",className:\"form-control\",placeholder:\"Email address\",required:true,onChange:function onChange(e){return setEmail(e.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"password\",className:\"form-control\",placeholder:\"Password\",required:true,onChange:function onChange(e){return setPassword(e.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"w-100 btn btn-lg btn-primary\",type:\"submit\",children:\"Sign in\"})]});};/* harmony default export */ var pages_Login = (Login_Login);\n// EXTERNAL MODULE: ./node_modules/react-router-dom/esm/react-router-dom.js\nvar react_router_dom = __webpack_require__(9);\n\n// CONCATENATED MODULE: ./src/components/Nav.tsx\nvar Nav_Nav=function Nav(props){var logout=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch('http://localhost:8000/api/logout',{method:'POST',headers:{'Content-Type':'application/json'},credentials:'include'});case 2:props.setName('');case 3:case\"end\":return _context.stop();}}},_callee);}));return function logout(){return _ref.apply(this,arguments);};}();var menu;if(props.name===''){menu=/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"ul\",{className:\"navbar-nav me-auto mb-2 mb-md-0\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{className:\"nav-item active\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/login\",className:\"nav-link\",children:\"Login\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{className:\"nav-item active\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/register\",className:\"nav-link\",children:\"Register\"})})]});}else{menu=/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"ul\",{className:\"navbar-nav me-auto mb-2 mb-md-0\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{className:\"nav-item active\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/login\",className:\"nav-link\",onClick:logout,children:\"Logout\"})})});}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"nav\",{className:\"navbar navbar-expand-md navbar-dark bg-dark mb-4\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"container-fluid\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/\",className:\"navbar-brand\",children:\"Home\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:menu})]})});};/* harmony default export */ var components_Nav = (Nav_Nav);\n// CONCATENATED MODULE: ./src/pages/Home.tsx\nvar Home_Home=function Home(props){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:props.name?'Hi '+props.name:'You are not logged in'});};/* harmony default export */ var pages_Home = (Home_Home);\n// CONCATENATED MODULE: ./src/pages/Register.tsx\nvar Register_Register=function Register(){var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=Object(react[\"useState\"])(''),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var _useState5=Object(react[\"useState\"])(''),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),password=_useState6[0],setPassword=_useState6[1];var _useState7=Object(react[\"useState\"])(false),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),redirect=_useState8[0],setRedirect=_useState8[1];var submit=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(e){return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.next=3;return fetch('http://localhost:8000/api/register',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({name:name,email:email,password:password})});case 3:setRedirect(true);case 4:case\"end\":return _context.stop();}}},_callee);}));return function submit(_x){return _ref.apply(this,arguments);};}();if(redirect){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Redirect */],{to:\"/login\"});}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:submit,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{className:\"h3 mb-3 fw-normal\",children:\"Please register\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"form-control\",placeholder:\"Name\",required:true,onChange:function onChange(e){return setName(e.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"email\",className:\"form-control\",placeholder:\"Email address\",required:true,onChange:function onChange(e){return setEmail(e.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"password\",className:\"form-control\",placeholder:\"Password\",required:true,onChange:function onChange(e){return setPassword(e.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"w-100 btn btn-lg btn-primary\",type:\"submit\",children:\"Submit\"})]});};/* harmony default export */ var pages_Register = (Register_Register);\n// CONCATENATED MODULE: ./src/App.tsx\nfunction App_App(){var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),name=_useState2[0],setName=_useState2[1];Object(react[\"useEffect\"])(function(){Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){var response,content;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch('http://localhost:8000/api/user',{headers:{'Content-Type':'application/json'},credentials:'include'});case 2:response=_context.sent;_context.next=5;return response.json();case 5:content=_context.sent;setName(content.name);case 7:case\"end\":return _context.stop();}}},_callee);}))();});return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"App\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router_dom[\"a\" /* BrowserRouter */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Nav,{name:name,setName:setName}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"main\",{className:\"form-signin\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{path:\"/\",exact:true,component:function component(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(pages_Home,{name:name});}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{path:\"/login\",component:function component(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(pages_Login,{setName:setName});}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{path:\"/register\",component:pages_Register})]})]})});}/* harmony default export */ var src_App = (App_App);\n// CONCATENATED MODULE: ./src/reportWebVitals.ts\nvar reportWebVitals=function reportWebVitals(onPerfEntry){if(onPerfEntry&&onPerfEntry instanceof Function){__webpack_require__.e(/* import() */ 3).then(__webpack_require__.bind(null, 34)).then(function(_ref){var getCLS=_ref.getCLS,getFID=_ref.getFID,getFCP=_ref.getFCP,getLCP=_ref.getLCP,getTTFB=_ref.getTTFB;getCLS(onPerfEntry);getFID(onPerfEntry);getFCP(onPerfEntry);getLCP(onPerfEntry);getTTFB(onPerfEntry);});}};/* harmony default export */ var src_reportWebVitals = (reportWebVitals);\n// CONCATENATED MODULE: ./src/index.tsx\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{})}),document.getElementById('root'));// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nsrc_reportWebVitals();\n\n/***/ })\n\n},[[33,1,2]]]);","inputSourceMap":{"version":3,"sources":["/home/mmattox/go/src/github.com/mattmattox/opsdata/ui/opsdata-ui/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/home/mmattox/go/src/github.com/mattmattox/opsdata/ui/opsdata-ui/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/home/mmattox/go/src/github.com/mattmattox/opsdata/ui/opsdata-ui/node_modules/postcss-loader/src/index.js??postcss!/home/mmattox/go/src/github.com/mattmattox/opsdata/ui/opsdata-ui/src/index.css","/home/mmattox/go/src/github.com/mattmattox/opsdata/ui/opsdata-ui/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/home/mmattox/go/src/github.com/mattmattox/opsdata/ui/opsdata-ui/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/home/mmattox/go/src/github.com/mattmattox/opsdata/ui/opsdata-ui/node_modules/postcss-loader/src/index.js??postcss!/home/mmattox/go/src/github.com/mattmattox/opsdata/ui/opsdata-ui/src/App.css","/home/mmattox/go/src/github.com/mattmattox/opsdata/ui/opsdata-ui/src/pages/Login.tsx","/home/mmattox/go/src/github.com/mattmattox/opsdata/ui/opsdata-ui/src/components/Nav.tsx","/home/mmattox/go/src/github.com/mattmattox/opsdata/ui/opsdata-ui/src/pages/Home.tsx","/home/mmattox/go/src/github.com/mattmattox/opsdata/ui/opsdata-ui/src/pages/Register.tsx","/home/mmattox/go/src/github.com/mattmattox/opsdata/ui/opsdata-ui/src/App.tsx","/home/mmattox/go/src/github.com/mattmattox/opsdata/ui/opsdata-ui/src/reportWebVitals.ts","/home/mmattox/go/src/github.com/mattmattox/opsdata/ui/opsdata-ui/src/index.tsx"],"names":["Login","props","useState","email","setEmail","password","setPassword","redirect","setRedirect","failed","setFailed","submit","e","refreshPage","window","location","reload","preventDefault","fetch","method","headers","credentials","body","JSON","stringify","response","json","content","status","setName","name","message","textAlign","target","value","Nav","logout","menu","Home","Register","App","useEffect","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","import React, {SyntheticEvent, useState} from 'react';\nimport {Redirect} from \"react-router-dom\";\n\nconst Login = (props: { setName: (name: string) => void}) => {\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const [redirect, setRedirect] = useState(false);\n    const [failed, setFailed] = useState(false);\n\n    const submit = async (e: SyntheticEvent) => {\n        e.preventDefault();\n\n        const response = await fetch('http://localhost:8000/api/login', {\n            method: 'POST',\n            headers: {'Content-Type': 'application/json'},\n            credentials: 'include',\n            body: JSON.stringify({\n                email,\n                password\n            })\n        });\n\n        function refreshPage() {\n          window.location.reload(false);\n        }\n\n        const content = await response.json();\n        \n        if(response.status === 200){\n          setRedirect(true);\n          props.setName(content.name);\n          refreshPage();\n        }else{\n          setFailed(true)\n          setRedirect(false);\n        }\n    }\n\n    let message;\n\n    if (failed) {\n      message = (\n        <p className=\"alert alert-danger\" style={{ textAlign: \"center\" }}>Login failed, please try again</p>\n      )\n    }\n    else\n    {\n      message = (\n        <p className=\"alert alert-primary\" style={{ textAlign: \"center\" }}>Please sign in</p>\n      )\n    }\n    if (redirect) {\n        return <Redirect to=\"/\"/>;\n    }\n\n    return (\n        <form onSubmit={submit}>\n            {message}\n            \n            <input type=\"email\" className=\"form-control\" placeholder=\"Email address\" required\n                   onChange={e => setEmail(e.target.value)}\n            />\n\n            <input type=\"password\" className=\"form-control\" placeholder=\"Password\" required\n                   onChange={e => setPassword(e.target.value)}\n            />\n\n            <button className=\"w-100 btn btn-lg btn-primary\" type=\"submit\">Sign in</button>\n        </form>\n    );\n};\n\nexport default Login;","import React from 'react';\nimport {Link} from \"react-router-dom\";\n\nconst Nav = (props: { name: string, setName: (name: string) => void }) => {\n    const logout = async () => {\n        await fetch('http://localhost:8000/api/logout', {\n            method: 'POST',\n            headers: {'Content-Type': 'application/json'},\n            credentials: 'include',\n        });\n\n        props.setName('');\n    }\n\n    let menu;\n\n    if (props.name === '') {\n        menu = (\n            <ul className=\"navbar-nav me-auto mb-2 mb-md-0\">\n                <li className=\"nav-item active\">\n                    <Link to=\"/login\" className=\"nav-link\">Login</Link>\n                </li>\n                <li className=\"nav-item active\">\n                    <Link to=\"/register\" className=\"nav-link\">Register</Link>\n                </li>\n            </ul>\n        )\n    } else {\n        menu = (\n            <ul className=\"navbar-nav me-auto mb-2 mb-md-0\">\n                <li className=\"nav-item active\">\n                    <Link to=\"/login\" className=\"nav-link\" onClick={logout}>Logout</Link>\n                </li>\n            </ul>\n        )\n    }\n\n    return (\n        <nav className=\"navbar navbar-expand-md navbar-dark bg-dark mb-4\">\n            <div className=\"container-fluid\">\n                <Link to=\"/\" className=\"navbar-brand\">Home</Link>\n\n                <div>\n                    {menu}\n                </div>\n            </div>\n        </nav>\n    );\n};\n\nexport default Nav;","import React from 'react';\n\nconst Home = (props: { name: string }) => {\n    return (\n        <div>\n            {props.name ? 'Hi ' + props.name : 'You are not logged in'}\n        </div>\n    );\n};\n\nexport default Home;","import React, {SyntheticEvent, useState} from 'react';\nimport {Redirect} from 'react-router-dom';\n\nconst Register = () => {\n    const [name, setName] = useState('');\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const [redirect, setRedirect] = useState(false);\n\n    const submit = async (e: SyntheticEvent) => {\n        e.preventDefault();\n\n        await fetch('http://localhost:8000/api/register', {\n            method: 'POST',\n            headers: {'Content-Type': 'application/json'},\n            body: JSON.stringify({\n                name,\n                email,\n                password\n            })\n        });\n\n        setRedirect(true);\n    }\n\n    if (redirect) {\n        return <Redirect to=\"/login\"/>;\n    }\n\n    return (\n        <form onSubmit={submit}>\n            <h1 className=\"h3 mb-3 fw-normal\">Please register</h1>\n\n            <input className=\"form-control\" placeholder=\"Name\" required\n                   onChange={e => setName(e.target.value)}\n            />\n\n            <input type=\"email\" className=\"form-control\" placeholder=\"Email address\" required\n                   onChange={e => setEmail(e.target.value)}\n            />\n\n            <input type=\"password\" className=\"form-control\" placeholder=\"Password\" required\n                   onChange={e => setPassword(e.target.value)}\n            />\n\n            <button className=\"w-100 btn btn-lg btn-primary\" type=\"submit\">Submit</button>\n        </form>\n    );\n};\n\nexport default Register;","import React, {useEffect, useState} from 'react';\nimport './App.css';\nimport Login from \"./pages/Login\";\nimport Nav from \"./components/Nav\";\nimport {BrowserRouter, Route} from \"react-router-dom\";\nimport Home from \"./pages/Home\";\nimport Register from \"./pages/Register\";\n\nfunction App() {\n    const [name, setName] = useState('');\n\n    useEffect(() => {\n        (\n            async () => {\n                const response = await fetch('http://localhost:8000/api/user', {\n                    headers: {'Content-Type': 'application/json'},\n                    credentials: 'include',\n                });\n\n                const content = await response.json();\n\n                setName(content.name);\n            }\n        )();\n    });\n\n\n    return (\n        <div className=\"App\">\n            <BrowserRouter>\n                <Nav name={name} setName={setName}/>\n\n                <main className=\"form-signin\">\n                    <Route path=\"/\" exact component={() => <Home name={name}/>}/>\n                    <Route path=\"/login\" component={() => <Login setName={setName}/>}/>\n                    <Route path=\"/register\" component={Register}/>\n                </main>\n            </BrowserRouter>\n        </div>\n    );\n}\n\nexport default App;","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"]}}